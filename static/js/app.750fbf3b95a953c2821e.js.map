{"version":3,"sources":["webpack:///static/js/app.750fbf3b95a953c2821e.js","webpack:///./src/components/hack-map.vue?9217","webpack:///./src/components/header-bar.vue?baa7","webpack:///./src/components/side-bar.vue?16ad","webpack:///./src/components/app.vue?7ecd","webpack:///./src/components/hack-map.vue?4044","webpack:///./src/components/side-bar.vue?80ce","webpack:///./src/components/header-bar.vue?ce4e","webpack:///./src/github-oauth.js","webpack:///./src/components/app.vue?39e8","webpack:///./src/github-api-client.js","webpack:///./src/github-issues.js","webpack:///./src/github-serialization.js","webpack:///./src/main.js","webpack:///app.vue","webpack:///hack-map.vue","webpack:///header-bar.vue","webpack:///side-bar.vue"],"names":["webpackJsonp","127","module","exports","128","129","130","133","__webpack_require__","injectStyle","ssrContext","Component","134","135","136","render","_vm","this","_h","$createElement","_c","_self","attrs","id","staticClass","user","mainThread","on","login","logout","_v","projects","selectedProjectId","state","form","toggleForm","updateSelectedProject","toggleEditMode","updateProject","deleteProject","drag","leftDrag","floorplan","drop","centerDrop","closeModals","staticRenderFns","137","click","dragenter","dragevent","dragover","src","url","_l","project","x","y","width","height","key","class","selected","style","left","top","draggable","username","isAdmin","data-id","avatar_thumbnail","alt","title","dragstart","$event","stopPropagation","_e","138","open","isOpen","directives","name","rawName","value","expression","type","placeholder","maxlength","autofocus","domProps","input","target","composing","descriptionText","disabled","editMode","href","_s","avatar","data-dragicon","innerHTML","descriptionHtml","deleteComment","length","139","helpHtml","34","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","n","__WEBPACK_IMPORTED_MODULE_1_axios__","__WEBPACK_IMPORTED_MODULE_1_axios___default","landingPage","appUrl","window","location","replace","hash","indexOf","oAuthUrl","codeToTokenUrl","a","options","isLoggedIn","localStorage","getItem","logOut","removeItem","getOAuthToken","resolve","reject","token","oauthWindow","addEventListener","event","code","detail","get","then","response","setItem","data","close","catch","error","53","73","getApiConfig","apiPath","config","baseURL","validateStatus","status","headers","Authorization","__WEBPACK_IMPORTED_MODULE_0_axios__","__WEBPACK_IMPORTED_MODULE_0_axios___default","org","repo","github","create","74","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck__","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck___default","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass__","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass___default","__WEBPACK_IMPORTED_MODULE_4__github_serialization_js__","__WEBPACK_IMPORTED_MODULE_5__github_oauth_js__","__WEBPACK_IMPORTED_MODULE_6__github_api_client_js__","GitHubIssueService","_this","lastUpdateSent","Date","i","organization","repository","ensureAuthenticatedClient","startPolling","_this2","getIssues","issues","getMainThread","pollIssueForComments","err","reportError","onError","_this3","params","labels","label","commentFormat","Error","_this4","issue","issueNumber","undefined","find","number","parseInt","thread","deserializeIssueToMainThread","onMainThreadLoaded","updateProjectAjaxCall","httpVerb","_this5","body","serializeProjectToComment","deserializeCommentToProject","_this6","delete","etag","_this7","commentsUrl","poll","isFirstPoll","now","requestUrl","getTime","console","log","document","hidden","once","If-None-Match","pickFirstProjectPerUser","onProjectsUpdated","interval","pollIntervalSeconds","setInterval","commentList","projectsByUser","forEach","comment","push","_this8","reauthenticateOnError","arguments","onAuthenticationRequired","isAuthenticated","onUserAuthenticated","75","parseCoordinatesFromComment","commentLines","lastLine","slice","matches","commentExtractionRegex","exec","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray___default","mainThreadAttributesRegex","Accept","textLines","split","coords","trim","body_html","substring","userId","userIsAdmin","author_association","avatar_url","_mainThreadAttributes","_mainThreadAttributes2","floorplanUrl","76","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1_vue_router__","__WEBPACK_IMPORTED_MODULE_2__components_app__","__WEBPACK_IMPORTED_MODULE_2__components_app___default","__WEBPACK_IMPORTED_MODULE_3_mobile_drag_drop__","productionTip","use","router","base","pathname","routes","path","component","props","el","template","77","__WEBPACK_IMPORTED_MODULE_0__github_issues_js__","__WEBPACK_IMPORTED_MODULE_1__github_oauth_js__","__WEBPACK_IMPORTED_MODULE_2__header_bar_vue__","__WEBPACK_IMPORTED_MODULE_2__header_bar_vue___default","__WEBPACK_IMPORTED_MODULE_3__side_bar_vue__","__WEBPACK_IMPORTED_MODULE_3__side_bar_vue___default","__WEBPACK_IMPORTED_MODULE_4__hack_map_vue__","__WEBPACK_IMPORTED_MODULE_4__hack_map_vue___default","githubIssue","default","String","helpText","authenticationUrl","hasProject","methods","postNewProject","alert","querySelector","dragIcon","createElement","dataset","dragicon","dataTransfer","setDragImage","projectId","setData","getData","filter","p","updateMapDimensions","oldX","oldY","mapBoundingBox","currentTarget","getBoundingClientRect","mapPosition","documentElement","scrollLeft","scrollTop","offsetX","pageX","offsetY","pageY","floorplanElement","$el","clientWidth","clientHeight","deauthenticateClient","projectIndex","findIndex","backup","updatedProject","index","$set","indexResult","splice","notifyError","msg","hasOwnProperty","message","components","HeaderBar","SideBar","HackMap","mounted","$data","projectForLoggedInUser","some","errMsg","beforeDestroy","removeEventListener","78","preventDefault","dropEffect","$emit","79","80"],"mappings":"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","file":"static/js/app.750fbf3b95a953c2821e.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 127:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 128:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 129:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 130:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 133:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(128)\n}\nvar Component = __webpack_require__(15)(\n  /* script */\n  __webpack_require__(78),\n  /* template */\n  __webpack_require__(137),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 134:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(130)\n}\nvar Component = __webpack_require__(15)(\n  /* script */\n  __webpack_require__(79),\n  /* template */\n  __webpack_require__(139),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 135:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(129)\n}\nvar Component = __webpack_require__(15)(\n  /* script */\n  __webpack_require__(80),\n  /* template */\n  __webpack_require__(138),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 136:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"appContainer\"\n    }\n  }, [_c('header-bar', {\n    staticClass: \"header-bar\",\n    attrs: {\n      \"user\": _vm.user,\n      \"mainThread\": _vm.mainThread\n    },\n    on: {\n      \"login\": _vm.login,\n      \"logout\": _vm.logout\n    }\n  }), _vm._v(\" \"), _c('side-bar', {\n    staticClass: \"side-bar\",\n    attrs: {\n      \"projects\": _vm.projects,\n      \"selectedProjectId\": _vm.selectedProjectId,\n      \"user\": _vm.user,\n      \"state\": _vm.state,\n      \"form\": _vm.form\n    },\n    on: {\n      \"toggleForm\": _vm.toggleForm,\n      \"updateSelectedProject\": _vm.updateSelectedProject,\n      \"toggleEditMode\": _vm.toggleEditMode,\n      \"updateProject\": _vm.updateProject,\n      \"deleteProject\": _vm.deleteProject,\n      \"drag\": _vm.leftDrag\n    }\n  }), _vm._v(\" \"), _c('hack-map', {\n    staticClass: \"hack-map\",\n    attrs: {\n      \"projects\": _vm.projects,\n      \"selectedProjectId\": _vm.selectedProjectId,\n      \"user\": _vm.user,\n      \"floorplan\": _vm.floorplan\n    },\n    on: {\n      \"updateSelectedProject\": _vm.updateSelectedProject,\n      \"drop\": _vm.centerDrop,\n      \"closeModals\": _vm.closeModals\n    }\n  })], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 137:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"center-column\",\n    on: {\n      \"click\": _vm.closeModals\n    }\n  }, [_c('div', {\n    staticClass: \"droptarget\",\n    on: {\n      \"dragenter\": _vm.dragevent,\n      \"dragover\": _vm.dragevent,\n      \"drop\": _vm.drop\n    }\n  }, [_c('img', {\n    staticClass: \"floorplan\",\n    attrs: {\n      \"src\": _vm.floorplan.url\n    }\n  }), _vm._v(\" \"), _vm._l((_vm.projects), function(project) {\n    return (project.x > 0 && project.y > 0 && _vm.floorplan.width > 0 && _vm.floorplan.height > 0) ? _c('img', {\n      key: project.id,\n      staticClass: \"marker\",\n      class: {\n        selected: _vm.selectedProjectId === project.id\n      },\n      style: ({\n        left: _vm.floorplan.width * project.x - 20 + 'px',\n        top: _vm.floorplan.height * project.y - 20 + 'px'\n      }),\n      attrs: {\n        \"width\": \"36\",\n        \"draggable\": project.username === _vm.user.username || _vm.user.isAdmin,\n        \"data-id\": project.id,\n        \"src\": project.avatar_thumbnail,\n        \"alt\": project.username,\n        \"title\": project.title\n      },\n      on: {\n        \"dragstart\": _vm.drag,\n        \"click\": function($event) {\n          $event.stopPropagation();\n          _vm.updateSelectedProject(project.id)\n        }\n      }\n    }) : _vm._e()\n  })], 2)])\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 138:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"projects side-bar\"\n  }, [_c('div', {\n    staticClass: \"project-form\",\n    class: {\n      open: _vm.form.isOpen\n    }\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.form.title),\n      expression: \"form.title\"\n    }],\n    attrs: {\n      \"type\": \"text\",\n      \"placeholder\": \"Topic\",\n      \"maxlength\": \"40\",\n      \"autofocus\": \"\"\n    },\n    domProps: {\n      \"value\": (_vm.form.title)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.form.title = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), _c('textarea', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.form.descriptionText),\n      expression: \"form.descriptionText\"\n    }],\n    attrs: {\n      \"placeholder\": \"Details (optional, uses markdown)\"\n    },\n    domProps: {\n      \"value\": (_vm.form.descriptionText)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.form.descriptionText = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), _c('button', {\n    staticClass: \"add-button\",\n    on: {\n      \"click\": _vm.toggleForm\n    }\n  }, [_vm._v(\"+ Add your hack\")])]), _vm._v(\" \"), (_vm.user.hasProject) ? _c('button', {\n    staticClass: \"add-button\",\n    attrs: {\n      \"title\": \"You've added a hack!\",\n      \"disabled\": \"\"\n    }\n  }, [_vm._v(\"Hack Added!\")]) : _c('button', {\n    staticClass: \"add-button\",\n    on: {\n      \"click\": _vm.toggleForm\n    }\n  }, [_vm._v(\"+ Add your hack\")]), _vm._v(\" \"), _vm._l((_vm.projects), function(project) {\n    return _c('div', {\n      key: project.id,\n      staticClass: \"project\",\n      class: {\n        selected: _vm.selectedProjectId === project.id || project.editMode\n      },\n      attrs: {\n        \"data-id\": project.id,\n        \"draggable\": !(_vm.selectedProjectId === project.id && project.editMode) && (project.username === _vm.user.username || _vm.user.isAdmin)\n      },\n      on: {\n        \"dragstart\": _vm.drag,\n        \"click\": function($event) {\n          _vm.updateSelectedProject(project.id)\n        }\n      }\n    }, [_c('div', {\n      staticClass: \"project-title-bar\"\n    }, [_c('a', {\n      staticClass: \"project-author\",\n      attrs: {\n        \"href\": 'https://github.com/' + project.username,\n        \"draggable\": \"false\"\n      }\n    }, [_vm._v(\"@\" + _vm._s(project.username))]), _vm._v(\" \"), (!project.editMode) ? _c('div', {\n      staticClass: \"project-title\"\n    }, [_vm._v(_vm._s(project.title))]) : _c('input', {\n      directives: [{\n        name: \"model\",\n        rawName: \"v-model\",\n        value: (project.title),\n        expression: \"project.title\"\n      }],\n      staticClass: \"project-title-editor\",\n      attrs: {\n        \"type\": \"text\",\n        \"maxlength\": \"40\",\n        \"autofocus\": \"\"\n      },\n      domProps: {\n        \"value\": (project.title)\n      },\n      on: {\n        \"input\": function($event) {\n          if ($event.target.composing) { return; }\n          project.title = $event.target.value\n        }\n      }\n    })]), _vm._v(\" \"), _c('img', {\n      staticClass: \"project-author-avatar\",\n      attrs: {\n        \"src\": _vm.selectedProjectId == project.id ? project.avatar : project.avatar_thumbnail,\n        \"title\": project.username,\n        \"alt\": project.username,\n        \"data-dragicon\": project.avatar_thumbnail,\n        \"draggable\": \"false\"\n      }\n    }), _vm._v(\" \"), (!project.editMode) ? _c('div', {\n      staticClass: \"project-description\",\n      domProps: {\n        \"innerHTML\": _vm._s(project.descriptionHtml)\n      }\n    }) : _c('textarea', {\n      directives: [{\n        name: \"model\",\n        rawName: \"v-model\",\n        value: (project.descriptionText),\n        expression: \"project.descriptionText\"\n      }],\n      staticClass: \"project-description-editor\",\n      domProps: {\n        \"value\": (project.descriptionText)\n      },\n      on: {\n        \"input\": function($event) {\n          if ($event.target.composing) { return; }\n          project.descriptionText = $event.target.value\n        }\n      }\n    }), _vm._v(\" \"), ((_vm.selectedProjectId == project.id || project.editMode) && (project.username === _vm.user.username || _vm.user.isAdmin)) ? _c('div', {\n      staticClass: \"action-button-bar\"\n    }, [(!project.editMode) ? _c('a', {\n      staticClass: \"edit action-button\",\n      on: {\n        \"click\": function($event) {\n          _vm.toggleEditMode(project.id)\n        }\n      }\n    }, [_vm._v(\"Edit\")]) : _vm._e(), _vm._v(\" \"), (!project.editMode) ? _c('a', {\n      staticClass: \"delete action-button\",\n      on: {\n        \"click\": function($event) {\n          _vm.deleteComment(project.id)\n        }\n      }\n    }, [_vm._v(\"Delete\")]) : _vm._e(), _vm._v(\" \"), (project.editMode) ? _c('a', {\n      staticClass: \"cancel action-button\",\n      on: {\n        \"click\": function($event) {\n          _vm.toggleEditMode(project.id)\n        }\n      }\n    }, [_vm._v(\"Cancel\")]) : _vm._e(), _vm._v(\" \"), (project.editMode) ? _c('a', {\n      staticClass: \"save action-button\",\n      on: {\n        \"click\": function($event) {\n          _vm.updateProject(project)\n        }\n      }\n    }, [_vm._v(\"Save\")]) : _vm._e()]) : _vm._e()])\n  }), _vm._v(\" \"), (_vm.state === 'running' && _vm.projects.length === 0) ? _c('div', {\n    staticClass: \"details\"\n  }, [_c('p', [_vm._v(\"No hacks yet, you can be the first!\")])]) : _vm._e(), _vm._v(\" \"), (_vm.state === 'init') ? _c('div', {\n    staticClass: \"loader\"\n  }, [_c('div', {\n    staticClass: \"loader1\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"loader2\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"loader3\"\n  })]) : _vm._e()], 2)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 139:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"header-bar\"\n  }, [_c('h1', [_vm._v(_vm._s(_vm.mainThread.title))]), _vm._v(\" \"), _c('div', {\n    staticClass: \"header-bar-links\"\n  }, [_c('a', {\n    staticClass: \"help-icon\"\n  }, [_vm._v(\"Help\"), _c('div', {\n    staticClass: \"help-text\",\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.mainThread.helpHtml)\n    }\n  })]), _vm._v(\" \"), (_vm.user.username) ? _c('a', {\n    staticClass: \"account-status\",\n    on: {\n      \"click\": _vm.logout\n    }\n  }, [_vm._v(_vm._s(_vm.user.username) + \" (Log out)\")]) : _c('a', {\n    staticClass: \"account-status\",\n    attrs: {\n      \"title\": \"Log in with GitHub\"\n    },\n    on: {\n      \"click\": _vm.login\n    }\n  }, [_vm._v(\"Log in\")])])])\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 34:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__ = __webpack_require__(35);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_axios__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_axios___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_axios__);\n\n/*\n * Handles the 'oauth dance' for our application.\n */\n // ajax library\n\nvar clientId = '1b717d04ec7f3615bb18';\n// the following url needs to match the app configuration on github.com\nvar landingPage = getLandingPage();\nvar tokenKey = 'token';\nvar oAuthUrl = 'https://github.com/login/oauth/authorize?scope=public_repo&redirect_uri=' + landingPage + '&client_id=' + clientId;\n// our heroku instance that hides the oauth secret. running https://github.com/prose/gatekeeper\nvar codeToTokenUrl = 'https://bkkhackmap.herokuapp.com/authenticate/';\n\n// HTTP Options call to wake the heroku instance. we don't care about the\n// response. we just want the oauth login to be quick.\n__WEBPACK_IMPORTED_MODULE_1_axios___default.a.options(codeToTokenUrl);\n\nfunction getLandingPage() {\n  var appUrl = window.location.href.replace(window.location.hash, '');\n  return appUrl.indexOf('index.html') >= 0 ? appUrl.replace('index.html', 'oauth_redirect.html') : appUrl + 'oauth_redirect.html';\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  isLoggedIn: function isLoggedIn() {\n    return !!window.localStorage.getItem(tokenKey);\n  },\n  logOut: function logOut() {\n    window.localStorage.removeItem(tokenKey);\n  },\n  // implements https://developer.github.com/v3/oauth/#web-application-flow\n  getOAuthToken: function getOAuthToken() {\n    return new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a(function (resolve, reject) {\n      // if we already have a token, just return it\n      var token = window.localStorage.getItem(tokenKey);\n      if (token) {\n        resolve(token);\n        return;\n      }\n      // otherwise, open a window to do the github login\n      // github will redirect to landingPage, which will fire an\n      // event with the github auth code\n      var oauthWindow = window.open(oAuthUrl); // needs to be a new window. github can't be embedded in an iframe for security reasons\n      window.addEventListener('oauth-code-received', function (event) {\n        var code = event.detail;\n        // we received the code exchange it for an auth token.\n        // this part needs to interact with a server because we need to hide the oAuth secret.\n        // the server is just a heroku app running https://github.com/prose/gatekeeper\n        __WEBPACK_IMPORTED_MODULE_1_axios___default.a.get(codeToTokenUrl + code).then(function (response) {\n          window.localStorage.setItem(tokenKey, response.data.token);\n          oauthWindow.close();\n          resolve(response.data.token);\n        }).catch(function (error) {\n          return reject(error);\n        });\n      });\n    });\n  }\n});\n\n/***/ }),\n\n/***/ 53:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(127)\n}\nvar Component = __webpack_require__(15)(\n  /* script */\n  __webpack_require__(77),\n  /* template */\n  __webpack_require__(136),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 73:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export baseURL */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_axios__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_axios___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_axios__);\n\n\nfunction getApiConfig(token, apiPath) {\n  var config = {\n    baseURL: baseURL + (apiPath || ''),\n    validateStatus: function validateStatus(status) {\n      return status >= 200 && (status < 300 || status === 304);\n    }\n  };\n  if (token) {\n    config.headers = { 'Authorization': 'token ' + token };\n  }\n  return config;\n}\n\nvar baseURL = 'https://api.github.com/';\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (org, repo, token) {\n  // general github ajax client\n  var github = __WEBPACK_IMPORTED_MODULE_0_axios___default.a.create(getApiConfig(token));\n\n  // repo-specific ajax client\n  github.repo = __WEBPACK_IMPORTED_MODULE_0_axios___default.a.create(getApiConfig(token, 'repos/' + org + '/' + repo + '/'));\n\n  return github;\n});\n\n/***/ }),\n\n/***/ 74:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(83);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise__ = __webpack_require__(35);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck__ = __webpack_require__(85);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass__ = __webpack_require__(86);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__github_serialization_js__ = __webpack_require__(75);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__github_oauth_js__ = __webpack_require__(34);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__github_api_client_js__ = __webpack_require__(73);\n\n\n\n\n\n\n\n\n/*\n * GitHub Issues API. Handles saving and polling of\n * projects, stored as github issue comments.\n *\n * Expects a configuration of:\n * {\n *    organization: 'bkkhack',\n *    repository: 'hackmap',\n *    label: 'BKKHack Main Thread',\n *    pollIntervalSeconds: 60,\n *    onAuthenticationRequired: () => Promise(token),\n *    onProjectsUpdated: (projects) => {},\n *    onError: (error) => {}\n * }\n */\n\nvar GitHubIssueService = function () {\n  function GitHubIssueService(config) {\n    var _this = this;\n\n    __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck___default()(this, GitHubIssueService);\n\n    this.lastUpdateSent = new Date(0);\n    this.config = config;\n    this.github = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__github_api_client_js__[\"a\" /* default */])(config.organization, config.repository);\n\n    // if the user has already logged in (e.g. in a previous session), use the\n    // authenticated client for all operations. Authenticated calls have a\n    // higher rate limit, even for calls that don't require authentication\n    if (__WEBPACK_IMPORTED_MODULE_5__github_oauth_js__[\"a\" /* default */].isLoggedIn()) {\n      this.ensureAuthenticatedClient().then(function () {\n        return _this.startPolling();\n      });\n    } else {\n      this.startPolling();\n    }\n  }\n\n  __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass___default()(GitHubIssueService, [{\n    key: 'startPolling',\n    value: function startPolling() {\n      var _this2 = this;\n\n      // issue ajax requests to load data from github\n      // the model will be updated periodically from the callbacks\n      this.getIssues().then(function (issues) {\n        _this2.getMainThread(issues);\n      }).then(function () {\n        return _this2.pollIssueForComments();\n      }).catch(function (err) {\n        _this2.reportError(err);\n        _this2.config.onError(err);\n      });\n    }\n\n    /**\n     * @returns {Promise}\n     */\n\n  }, {\n    key: 'getIssues',\n    value: function getIssues() {\n      var _this3 = this;\n\n      return this.github.repo.get('issues', {\n        params: {\n          state: 'all', // supports viewing past threads that have since been closed.\n          labels: this.config.label\n        },\n        headers: __WEBPACK_IMPORTED_MODULE_4__github_serialization_js__[\"a\" /* default */].commentFormat\n      }).then(function (response) {\n        return response.data;\n      }).catch(function (err) {\n        _this3.reportError(err);\n        throw new Error('Unable to get a list of issues from github');\n      });\n    }\n  }, {\n    key: 'getMainThread',\n    value: function getMainThread(issues) {\n      var _this4 = this;\n\n      if (!issues.length) {\n        throw new Error('Could not find an open issue labeled: ' + this.config.label);\n      }\n\n      var issue = void 0;\n      if (this.config.issueNumber === '') {\n        issue = issues[0];\n      } else {\n        issue = issues.find(function (i) {\n          return i.number === parseInt(_this4.config.issueNumber);\n        });\n        if (issue === undefined) {\n          throw new Error('Could not find an open issue labeled: ' + this.config.label + ' and numbered: ' + this.config.issueNumber);\n        }\n      }\n\n      this.issueNumber = issue.number;\n\n      var thread = __WEBPACK_IMPORTED_MODULE_4__github_serialization_js__[\"a\" /* default */].deserializeIssueToMainThread(issue);\n      this.config.onMainThreadLoaded(thread);\n    }\n  }, {\n    key: 'postNewProject',\n    value: function postNewProject(project) {\n      return this.updateProjectAjaxCall(project, 'post', 'issues/' + this.issueNumber + '/comments');\n    }\n  }, {\n    key: 'updateProject',\n    value: function updateProject(project) {\n      return this.updateProjectAjaxCall(project, 'patch', 'issues/comments/' + project.id);\n    }\n  }, {\n    key: 'updateProjectAjaxCall',\n    value: function updateProjectAjaxCall(project, httpVerb, url) {\n      var _this5 = this;\n\n      return this.ensureAuthenticatedClient().then(function () {\n        _this5.lastUpdateSent = new Date();\n        var body = __WEBPACK_IMPORTED_MODULE_4__github_serialization_js__[\"a\" /* default */].serializeProjectToComment(project);\n        return _this5.github.repo[httpVerb](url, { body: body }, {\n          headers: __WEBPACK_IMPORTED_MODULE_4__github_serialization_js__[\"a\" /* default */].commentFormat\n        });\n      }).then(function (response) {\n        return __WEBPACK_IMPORTED_MODULE_4__github_serialization_js__[\"a\" /* default */].deserializeCommentToProject(response.data);\n      });\n    }\n  }, {\n    key: 'deleteProject',\n    value: function deleteProject(id) {\n      var _this6 = this;\n\n      return this.ensureAuthenticatedClient().then(function () {\n        return _this6.github.repo.delete('issues/comments/' + id);\n      });\n    }\n  }, {\n    key: 'pollIssueForComments',\n    value: function pollIssueForComments() {\n      var _this7 = this;\n\n      var commentsUrl = 'issues/' + this.issueNumber + '/comments';\n      var etag;\n\n      var poll = function poll(isFirstPoll) {\n        // first request should not be cached by the browser.\n        // this prevents users from refreshing immediately after\n        // entering their hack and not seeing their hack appear.\n        var now = new Date();\n        var requestUrl = isFirstPoll ? commentsUrl + '?nocache=' + now.getTime() : commentsUrl;\n\n        // don't poll if the user sent an update in the last 15s.\n        // GitHub's API doesn't immediately reflect the latest information,\n        // so give it some time for updates to propagate.\n        if (now - _this7.lastUpdateSent < 15000) {\n          console.log('skipping poll because of a recent update from this client');\n          return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a.resolve();\n        }\n        if (window.document.hidden) {\n          console.log('skipping poll because tab is hidden');\n          window.addEventListener('visibilitychange', poll, { once: true });\n          return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a.resolve();\n        }\n\n        console.log('polling with etag ' + etag);\n        return _this7.github.repo.get(requestUrl, {\n          headers: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()(__WEBPACK_IMPORTED_MODULE_4__github_serialization_js__[\"a\" /* default */].commentFormat,\n          // use etag for caching, as described in https://developer.github.com/v3/#conditional-requests\n          etag ? { 'If-None-Match': etag } : {})\n        }).then(function (response) {\n          console.log('poll response ' + response.status);\n          if (response.status === 200) {\n            etag = response.headers.etag;\n            var projects = _this7.pickFirstProjectPerUser(response.data);\n            _this7.config.onProjectsUpdated(projects);\n          }\n        }).catch(function (err) {\n          _this7.reportError(err);\n          _this7.config.onError(new Error('Failed retrieving ideas'));\n        });\n      };\n\n      console.log('start polling');\n      var interval = 1000 * this.config.pollIntervalSeconds;\n      window.setInterval(poll, interval);\n      return poll(true);\n    }\n\n    // sometimes users reply directly on github, which would make them have two hacks: their original and their reply.\n    // to avoid this, only show the first project in the list.\n\n  }, {\n    key: 'pickFirstProjectPerUser',\n    value: function pickFirstProjectPerUser(commentList) {\n      var projects = [];\n      var projectsByUser = {};\n      // we could just use a single object here, but an object doesn't guarantee preserved order of its properties\n      commentList.forEach(function (comment) {\n        var project = __WEBPACK_IMPORTED_MODULE_4__github_serialization_js__[\"a\" /* default */].deserializeCommentToProject(comment);\n        if (!projectsByUser[project.username]) {\n          projectsByUser[project.username] = project;\n          projects.push(project);\n        }\n      });\n      return projects;\n    }\n\n    /**\n     * Call the onAuthenticationRequired callback to get an auth token\n     * and create an authenticated github api client from that token\n     * @param reauthenticateOnError - defaults to true, if authentication fails (e.g. to a expired token) should we attempt to reauthenticate?\n     */\n\n  }, {\n    key: 'ensureAuthenticatedClient',\n    value: function ensureAuthenticatedClient() {\n      var _this8 = this;\n\n      var reauthenticateOnError = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      return this.config.onAuthenticationRequired().then(function (token) {\n        // if we're not currently authenticated, use the\n        // token to create an authenticated client.\n        if (!_this8.github.isAuthenticated) {\n          _this8.github = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__github_api_client_js__[\"a\" /* default */])(_this8.config.organization, _this8.config.repository, token);\n          _this8.github.isAuthenticated = true;\n          return _this8.github.get('user');\n        }\n      }).then(function (response) {\n        if (response) {\n          _this8.config.onUserAuthenticated(response);\n        }\n      }).catch(function (err) {\n        console.log(err);\n        __WEBPACK_IMPORTED_MODULE_5__github_oauth_js__[\"a\" /* default */].logOut();\n        if (reauthenticateOnError) {\n          _this8.github.isAuthenticated = false;\n          return _this8.ensureAuthenticatedClient(false);\n        }\n      });\n    }\n  }, {\n    key: 'deauthenticateClient',\n    value: function deauthenticateClient() {\n      __WEBPACK_IMPORTED_MODULE_5__github_oauth_js__[\"a\" /* default */].logOut();\n      this.github = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__github_api_client_js__[\"a\" /* default */])(this.config.organization, this.config.repository);\n    }\n  }, {\n    key: 'reportError',\n    value: function reportError(err) {\n      console.error(err);\n    }\n  }]);\n\n  return GitHubIssueService;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (GitHubIssueService);\n\n/***/ }),\n\n/***/ 75:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray__ = __webpack_require__(87);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray__);\n\n/* Handles converting the app's concept of a 'project'\n * to/from the GitHub API's concept of an 'issue'\n */\n\nvar commentExtractionRegex = /<!-- ([.\\d]+),([.\\d]+) -->/;\nvar mainThreadAttributesRegex = /<!--\\s*floorplan\\s*:\\s*([^,\\s]+),?\\s*-->/;\n\nfunction parseCoordinatesFromComment(commentLines) {\n  var lastLine = commentLines.slice(-1)[0];\n  var matches = commentExtractionRegex.exec(lastLine);\n\n  return matches ? { x: matches[1], y: matches[2] } : { x: 0, y: 0 };\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n\n  commentFormat: { 'Accept': 'application/vnd.github.VERSION.full+json' },\n\n  deserializeCommentToProject: function deserializeCommentToProject(comment) {\n    var textLines = comment.body.split('\\r\\n');\n    var coords = parseCoordinatesFromComment(textLines);\n    // title is the first line, description is everything after the first line\n    var title = textLines[0];\n    var descriptionText = textLines.length > 1 ? textLines[1].trim() : '';\n    var descriptionHtml = comment.body_html.substring(comment.body_html.indexOf('\\n')).trim();\n    return {\n      id: comment.id,\n      title: title,\n      descriptionText: descriptionText,\n      descriptionHtml: descriptionHtml,\n      username: comment.user.login,\n      userId: comment.user.id,\n      // see https://developer.github.com/v4/reference/enum/commentauthorassociation/\n      userIsAdmin: comment.author_association === 'MEMBER' || comment.author_association === 'OWNER',\n      avatar_thumbnail: comment.user.avatar_url + '&s=' + 40,\n      avatar: comment.user.avatar_url + '&s=' + 80,\n      x: coords.x,\n      y: coords.y,\n      editMode: false\n    };\n  },\n\n  serializeProjectToComment: function serializeProjectToComment(project) {\n    var body = project.title + '\\r\\n' + (project.descriptionText || '') + '\\r\\n' + ('<!-- ' + project.x + ',' + project.y + ' -->');\n    return body;\n  },\n\n  deserializeIssueToMainThread: function deserializeIssueToMainThread(issue) {\n    var _mainThreadAttributes = mainThreadAttributesRegex.exec(issue.body),\n        _mainThreadAttributes2 = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray___default()(_mainThreadAttributes, 2),\n        floorplanUrl = _mainThreadAttributes2[1];\n\n    return {\n      title: issue.title,\n      helpHtml: issue.body_html,\n      number: issue.number,\n      floorplanUrl: floorplanUrl\n    };\n  }\n});\n\n/***/ }),\n\n/***/ 76:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(55);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_router__ = __webpack_require__(54);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_app__ = __webpack_require__(53);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_app___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__components_app__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_mobile_drag_drop__ = __webpack_require__(52);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_mobile_drag_drop___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_mobile_drag_drop__);\n// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].config.productionTip = false;\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]);\n\n// html5 drag-and-drop support for mobile\n\n__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_mobile_drag_drop__[\"polyfill\"])();\n\nvar router = new __WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]({\n  base: window.location.pathname,\n  routes: [{\n    path: '/events/:issueNumber',\n    name: 'history',\n    component: __WEBPACK_IMPORTED_MODULE_2__components_app___default.a,\n    props: true\n  }, {\n    path: '*',\n    name: 'latest',\n    component: __WEBPACK_IMPORTED_MODULE_2__components_app___default.a\n  }]\n});\n\n/* eslint-disable no-new */\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#app',\n  router: router,\n  template: '<router-view />'\n});\n\n/***/ }),\n\n/***/ 77:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__github_issues_js__ = __webpack_require__(74);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__github_oauth_js__ = __webpack_require__(34);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__header_bar_vue__ = __webpack_require__(134);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__header_bar_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__header_bar_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__side_bar_vue__ = __webpack_require__(135);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__side_bar_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__side_bar_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__hack_map_vue__ = __webpack_require__(133);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__hack_map_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__hack_map_vue__);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n\nvar githubIssue = void 0;\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'app',\n  props: {\n    issueNumber: {\n      default: '',\n      type: String\n    }\n  },\n  data: function data() {\n    return {\n      state: 'init',\n      mainThread: {\n        title: '',\n        helpText: ''\n      },\n      floorplan: {\n        url: '',\n        width: 0,\n        height: 0\n      },\n      selectedProjectId: '',\n      projects: [],\n      form: {\n        isOpen: false,\n        title: '',\n        descriptionText: ''\n      },\n      authenticationUrl: '',\n      user: {\n        id: '',\n        username: '',\n        hasProject: false,\n        isAdmin: false\n      }\n    };\n  },\n\n  methods: {\n    toggleForm: function toggleForm() {\n      var _this = this;\n\n      if (!this.form.isOpen) {\n        this.form.isOpen = true;\n        return;\n      }\n      this.form.title = this.form.title.trim();\n      this.form.descriptionText = this.form.descriptionText.trim();\n\n      if (!this.form.title && !this.form.descriptionText) {\n        // empty form, close it.\n        this.form.isOpen = false;\n        return;\n      } else if (!this.form.title) {\n        // user filled in a description, but not a title\n        alert('Please enter a topic for your project');\n        return;\n      } else {\n        // title and optional description provided, save the text\n        githubIssue.postNewProject(this.form).then(function (project) {\n          // add the new project and blank the form.\n          _this.projects.push(project);\n          _this.form.title = '';\n          _this.form.descriptionText = '';\n        }).catch(function (err) {\n          return console.error(err);\n        });\n        this.form.isOpen = false;\n      }\n    },\n    leftDrag: function leftDrag(event) {\n      var avatar = event.target.querySelector('.project-author-avatar');\n\n      var dragIcon = document.createElement('img');\n      dragIcon.src = avatar.dataset.dragicon;\n      event.dataTransfer.setDragImage(dragIcon, 20, 20);\n\n      // event.dataTransfer.setDragImage(avatar, 20, 20)\n      var projectId = event.target.dataset.id;\n      event.dataTransfer.setData('projectId', projectId);\n    },\n    updateSelectedProject: function updateSelectedProject(projectId) {\n      this.selectedProjectId = projectId;\n    },\n    closeModals: function closeModals() {\n      this.selectedProjectId = null;\n      this.form.isOpen = false;\n    },\n    centerDrop: function centerDrop(event) {\n      var projectId = event.dataTransfer.getData('projectId');\n      var project = this.projects.filter(function (p) {\n        return p.id === parseInt(projectId);\n      })[0];\n      this.updateMapDimensions();\n      // record old x and y values in case the API rejects our update, so we can revert to them\n      var oldX = project.x;\n      var oldY = project.y;\n      // calculate offset from the map (currentTarget). We can't use the event's offsetX/Y\n      // because those properties are relative to the event's target, and it's not guaranteed\n      // that the event's target is the map -- it could be another avatar.\n      var mapBoundingBox = event.currentTarget.getBoundingClientRect();\n      var mapPosition = {\n        x: mapBoundingBox.left + document.documentElement.scrollLeft,\n        y: mapBoundingBox.top + document.documentElement.scrollTop\n      };\n      var offsetX = event.pageX - mapPosition.x;\n      var offsetY = event.pageY - mapPosition.y;\n      // the map is a percentage width of the overall window, so we need\n      // to save x and y as percentage values.\n      project.x = offsetX / this.floorplan.width;\n      project.y = offsetY / this.floorplan.height;\n      githubIssue.updateProject(project).catch(function (err) {\n        console.log('update rejected', err);\n        project.x = oldX;\n        project.y = oldY;\n      });\n    },\n    updateMapDimensions: function updateMapDimensions() {\n      var floorplanElement = this.$el.querySelector('.floorplan');\n      this.floorplan.width = floorplanElement.clientWidth;\n      this.floorplan.height = floorplanElement.clientHeight;\n    },\n    login: function login() {\n      githubIssue.ensureAuthenticatedClient().then(function (data) {\n        return console.log(data);\n      });\n    },\n    logout: function logout() {\n      this.user.username = '';\n      githubIssue.deauthenticateClient();\n    },\n    toggleEditMode: function toggleEditMode(projectId) {\n      var projectIndex = this.projects.findIndex(function (project) {\n        return project.id === projectId;\n      });\n      var project = this.projects[projectIndex];\n      if (!project.editMode) {\n        // entering edit mode\n        project.backup = {\n          title: project.title,\n          descriptionText: project.descriptionText\n        };\n      } else {\n        // cancelling edit mode\n        project.title = project.backup.title;\n        project.descriptionText = project.backup.descriptionText;\n      }\n      project.editMode = !project.editMode;\n    },\n    updateProject: function updateProject(project) {\n      var _this2 = this;\n\n      githubIssue.updateProject(project).then(function (updatedProject) {\n        var index = _this2.projects.findIndex(function (p) {\n          return p.id === updatedProject.id;\n        });\n        _this2.$set(_this2.projects, index, updatedProject);\n      }).catch(function (err) {\n        console.log('update rejected', err);\n        var backup = project.backup;\n        project.title = backup.title;\n        project.descriptionText = backup.descriptionText;\n      });\n    },\n    deleteProject: function deleteProject(id) {\n      var _this3 = this;\n\n      githubIssue.deleteProject(id).then(function () {\n        _this3.user.hasProject = false;\n        _this3.selectedProjectId = null;\n        var indexResult = _this3.projects.findIndex(function (project) {\n          return project.id === id;\n        });\n        _this3.projects.splice(indexResult, 1);\n      });\n    },\n    notifyError: function notifyError(msg) {\n      if (msg.hasOwnProperty('message')) {\n        alert(msg.message);\n      } else {\n        alert('Oh no, something went wrong');\n      }\n    }\n  },\n  components: {\n    HeaderBar: __WEBPACK_IMPORTED_MODULE_2__header_bar_vue___default.a,\n    SideBar: __WEBPACK_IMPORTED_MODULE_3__side_bar_vue___default.a,\n    HackMap: __WEBPACK_IMPORTED_MODULE_4__hack_map_vue___default.a\n  },\n  mounted: function mounted() {\n    var _this4 = this;\n\n    githubIssue = new __WEBPACK_IMPORTED_MODULE_0__github_issues_js__[\"a\" /* default */]({\n      organization: 'bkkhack',\n      repository: 'hackmap',\n      label: 'BKKHack Main Thread',\n      onAuthenticationRequired: __WEBPACK_IMPORTED_MODULE_1__github_oauth_js__[\"a\" /* default */].getOAuthToken,\n      pollIntervalSeconds: 60,\n      onProjectsUpdated: function onProjectsUpdated(projects) {\n        _this4.$set(_this4.$data, 'state', 'running');\n        var projectForLoggedInUser = projects.filter(function (project) {\n          return project.userId === _this4.user.id;\n        });\n\n        if (projectForLoggedInUser.length) {\n          _this4.user.hasProject = true;\n          _this4.user.isAdmin = projectForLoggedInUser[0].userIsAdmin;\n        }\n        // don't reset projects if the user is editing one of them\n        if (!_this4.projects.some(function (project) {\n          return project.editMode;\n        })) {\n          _this4.projects = projects;\n        }\n      },\n      onMainThreadLoaded: function onMainThreadLoaded(thread) {\n        _this4.mainThread.helpHtml = thread.helpHtml;\n        _this4.mainThread.title = thread.title;\n        _this4.floorplan.url = thread.floorplanUrl;\n      },\n      onUserAuthenticated: function onUserAuthenticated(response) {\n        _this4.user.username = response.data.login;\n        _this4.user.id = response.data.id;\n      },\n      issueNumber: this.issueNumber,\n      onError: function onError(errMsg) {\n        _this4.notifyError(errMsg);\n      }\n    });\n    // we need to calculate map dimensions in order to place the avatars\n    // we handle three cases:\n    // if the map loads after this code runs.\n    this.$el.querySelector('.floorplan').addEventListener('load', this.updateMapDimensions);\n    // if this code runs after the image loads\n    this.updateMapDimensions();\n    // and on resize\n    window.addEventListener('resize', this.updateMapDimensions);\n  },\n  beforeDestroy: function beforeDestroy() {\n    window.removeEventListener('resize', this.updateMapDimensions);\n  }\n});\n\n/***/ }),\n\n/***/ 78:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'hack-map',\n  props: ['mainThread', 'user', 'projects', 'selectedProjectId', 'floorplan'],\n  methods: {\n    dragevent: function dragevent(event) {\n      event.preventDefault(); // mark this element as a drop target.\n      event.dataTransfer.dropEffect = 'copy';\n    },\n    drag: function drag(event) {\n      var projectId = event.target.dataset.id;\n      event.dataTransfer.setData('projectId', projectId);\n    },\n    drop: function drop(event) {\n      this.$emit('drop', event);\n    },\n    updateSelectedProject: function updateSelectedProject(projectId) {\n      this.$emit('updateSelectedProject', projectId);\n    },\n    closeModals: function closeModals() {\n      this.$emit('closeModals');\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 79:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'header-bar',\n  props: ['mainThread', 'user'],\n  methods: {\n    login: function login() {\n      this.$emit('login');\n    },\n    logout: function logout() {\n      this.$emit('logout');\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 80:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'sidebar',\n  props: ['form', 'projects', 'selectedProjectId', 'user', 'state'],\n  methods: {\n    toggleForm: function toggleForm() {\n      this.$emit('toggleForm');\n    },\n    drag: function drag(event) {\n      this.$emit('drag', event);\n    },\n    updateSelectedProject: function updateSelectedProject(projectId) {\n      this.$emit('updateSelectedProject', projectId);\n    },\n    toggleEditMode: function toggleEditMode(projectId) {\n      this.$emit('toggleEditMode', projectId);\n    },\n    updateProject: function updateProject(project) {\n      this.$emit('updateProject', project);\n    },\n    deleteComment: function deleteComment(id) {\n      this.$emit('deleteProject', id);\n    }\n  }\n});\n\n/***/ })\n\n},[76]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.750fbf3b95a953c2821e.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6e59a54c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./hack-map.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./hack-map.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6e59a54c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./hack-map.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/hack-map.vue\n// module id = 133\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f6a26222\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./header-bar.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./header-bar.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f6a26222\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./header-bar.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/header-bar.vue\n// module id = 134\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c1f05e8e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./side-bar.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./side-bar.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c1f05e8e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./side-bar.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/side-bar.vue\n// module id = 135\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"appContainer\"\n    }\n  }, [_c('header-bar', {\n    staticClass: \"header-bar\",\n    attrs: {\n      \"user\": _vm.user,\n      \"mainThread\": _vm.mainThread\n    },\n    on: {\n      \"login\": _vm.login,\n      \"logout\": _vm.logout\n    }\n  }), _vm._v(\" \"), _c('side-bar', {\n    staticClass: \"side-bar\",\n    attrs: {\n      \"projects\": _vm.projects,\n      \"selectedProjectId\": _vm.selectedProjectId,\n      \"user\": _vm.user,\n      \"state\": _vm.state,\n      \"form\": _vm.form\n    },\n    on: {\n      \"toggleForm\": _vm.toggleForm,\n      \"updateSelectedProject\": _vm.updateSelectedProject,\n      \"toggleEditMode\": _vm.toggleEditMode,\n      \"updateProject\": _vm.updateProject,\n      \"deleteProject\": _vm.deleteProject,\n      \"drag\": _vm.leftDrag\n    }\n  }), _vm._v(\" \"), _c('hack-map', {\n    staticClass: \"hack-map\",\n    attrs: {\n      \"projects\": _vm.projects,\n      \"selectedProjectId\": _vm.selectedProjectId,\n      \"user\": _vm.user,\n      \"floorplan\": _vm.floorplan\n    },\n    on: {\n      \"updateSelectedProject\": _vm.updateSelectedProject,\n      \"drop\": _vm.centerDrop,\n      \"closeModals\": _vm.closeModals\n    }\n  })], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-294ed096\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/app.vue\n// module id = 136\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"center-column\",\n    on: {\n      \"click\": _vm.closeModals\n    }\n  }, [_c('div', {\n    staticClass: \"droptarget\",\n    on: {\n      \"dragenter\": _vm.dragevent,\n      \"dragover\": _vm.dragevent,\n      \"drop\": _vm.drop\n    }\n  }, [_c('img', {\n    staticClass: \"floorplan\",\n    attrs: {\n      \"src\": _vm.floorplan.url\n    }\n  }), _vm._v(\" \"), _vm._l((_vm.projects), function(project) {\n    return (project.x > 0 && project.y > 0 && _vm.floorplan.width > 0 && _vm.floorplan.height > 0) ? _c('img', {\n      key: project.id,\n      staticClass: \"marker\",\n      class: {\n        selected: _vm.selectedProjectId === project.id\n      },\n      style: ({\n        left: _vm.floorplan.width * project.x - 20 + 'px',\n        top: _vm.floorplan.height * project.y - 20 + 'px'\n      }),\n      attrs: {\n        \"width\": \"36\",\n        \"draggable\": project.username === _vm.user.username || _vm.user.isAdmin,\n        \"data-id\": project.id,\n        \"src\": project.avatar_thumbnail,\n        \"alt\": project.username,\n        \"title\": project.title\n      },\n      on: {\n        \"dragstart\": _vm.drag,\n        \"click\": function($event) {\n          $event.stopPropagation();\n          _vm.updateSelectedProject(project.id)\n        }\n      }\n    }) : _vm._e()\n  })], 2)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-6e59a54c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/hack-map.vue\n// module id = 137\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"projects side-bar\"\n  }, [_c('div', {\n    staticClass: \"project-form\",\n    class: {\n      open: _vm.form.isOpen\n    }\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.form.title),\n      expression: \"form.title\"\n    }],\n    attrs: {\n      \"type\": \"text\",\n      \"placeholder\": \"Topic\",\n      \"maxlength\": \"40\",\n      \"autofocus\": \"\"\n    },\n    domProps: {\n      \"value\": (_vm.form.title)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.form.title = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), _c('textarea', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.form.descriptionText),\n      expression: \"form.descriptionText\"\n    }],\n    attrs: {\n      \"placeholder\": \"Details (optional, uses markdown)\"\n    },\n    domProps: {\n      \"value\": (_vm.form.descriptionText)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.form.descriptionText = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), _c('button', {\n    staticClass: \"add-button\",\n    on: {\n      \"click\": _vm.toggleForm\n    }\n  }, [_vm._v(\"+ Add your hack\")])]), _vm._v(\" \"), (_vm.user.hasProject) ? _c('button', {\n    staticClass: \"add-button\",\n    attrs: {\n      \"title\": \"You've added a hack!\",\n      \"disabled\": \"\"\n    }\n  }, [_vm._v(\"Hack Added!\")]) : _c('button', {\n    staticClass: \"add-button\",\n    on: {\n      \"click\": _vm.toggleForm\n    }\n  }, [_vm._v(\"+ Add your hack\")]), _vm._v(\" \"), _vm._l((_vm.projects), function(project) {\n    return _c('div', {\n      key: project.id,\n      staticClass: \"project\",\n      class: {\n        selected: _vm.selectedProjectId === project.id || project.editMode\n      },\n      attrs: {\n        \"data-id\": project.id,\n        \"draggable\": !(_vm.selectedProjectId === project.id && project.editMode) && (project.username === _vm.user.username || _vm.user.isAdmin)\n      },\n      on: {\n        \"dragstart\": _vm.drag,\n        \"click\": function($event) {\n          _vm.updateSelectedProject(project.id)\n        }\n      }\n    }, [_c('div', {\n      staticClass: \"project-title-bar\"\n    }, [_c('a', {\n      staticClass: \"project-author\",\n      attrs: {\n        \"href\": 'https://github.com/' + project.username,\n        \"draggable\": \"false\"\n      }\n    }, [_vm._v(\"@\" + _vm._s(project.username))]), _vm._v(\" \"), (!project.editMode) ? _c('div', {\n      staticClass: \"project-title\"\n    }, [_vm._v(_vm._s(project.title))]) : _c('input', {\n      directives: [{\n        name: \"model\",\n        rawName: \"v-model\",\n        value: (project.title),\n        expression: \"project.title\"\n      }],\n      staticClass: \"project-title-editor\",\n      attrs: {\n        \"type\": \"text\",\n        \"maxlength\": \"40\",\n        \"autofocus\": \"\"\n      },\n      domProps: {\n        \"value\": (project.title)\n      },\n      on: {\n        \"input\": function($event) {\n          if ($event.target.composing) { return; }\n          project.title = $event.target.value\n        }\n      }\n    })]), _vm._v(\" \"), _c('img', {\n      staticClass: \"project-author-avatar\",\n      attrs: {\n        \"src\": _vm.selectedProjectId == project.id ? project.avatar : project.avatar_thumbnail,\n        \"title\": project.username,\n        \"alt\": project.username,\n        \"data-dragicon\": project.avatar_thumbnail,\n        \"draggable\": \"false\"\n      }\n    }), _vm._v(\" \"), (!project.editMode) ? _c('div', {\n      staticClass: \"project-description\",\n      domProps: {\n        \"innerHTML\": _vm._s(project.descriptionHtml)\n      }\n    }) : _c('textarea', {\n      directives: [{\n        name: \"model\",\n        rawName: \"v-model\",\n        value: (project.descriptionText),\n        expression: \"project.descriptionText\"\n      }],\n      staticClass: \"project-description-editor\",\n      domProps: {\n        \"value\": (project.descriptionText)\n      },\n      on: {\n        \"input\": function($event) {\n          if ($event.target.composing) { return; }\n          project.descriptionText = $event.target.value\n        }\n      }\n    }), _vm._v(\" \"), ((_vm.selectedProjectId == project.id || project.editMode) && (project.username === _vm.user.username || _vm.user.isAdmin)) ? _c('div', {\n      staticClass: \"action-button-bar\"\n    }, [(!project.editMode) ? _c('a', {\n      staticClass: \"edit action-button\",\n      on: {\n        \"click\": function($event) {\n          _vm.toggleEditMode(project.id)\n        }\n      }\n    }, [_vm._v(\"Edit\")]) : _vm._e(), _vm._v(\" \"), (!project.editMode) ? _c('a', {\n      staticClass: \"delete action-button\",\n      on: {\n        \"click\": function($event) {\n          _vm.deleteComment(project.id)\n        }\n      }\n    }, [_vm._v(\"Delete\")]) : _vm._e(), _vm._v(\" \"), (project.editMode) ? _c('a', {\n      staticClass: \"cancel action-button\",\n      on: {\n        \"click\": function($event) {\n          _vm.toggleEditMode(project.id)\n        }\n      }\n    }, [_vm._v(\"Cancel\")]) : _vm._e(), _vm._v(\" \"), (project.editMode) ? _c('a', {\n      staticClass: \"save action-button\",\n      on: {\n        \"click\": function($event) {\n          _vm.updateProject(project)\n        }\n      }\n    }, [_vm._v(\"Save\")]) : _vm._e()]) : _vm._e()])\n  }), _vm._v(\" \"), (_vm.state === 'running' && _vm.projects.length === 0) ? _c('div', {\n    staticClass: \"details\"\n  }, [_c('p', [_vm._v(\"No hacks yet, you can be the first!\")])]) : _vm._e(), _vm._v(\" \"), (_vm.state === 'init') ? _c('div', {\n    staticClass: \"loader\"\n  }, [_c('div', {\n    staticClass: \"loader1\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"loader2\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"loader3\"\n  })]) : _vm._e()], 2)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-c1f05e8e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/side-bar.vue\n// module id = 138\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"header-bar\"\n  }, [_c('h1', [_vm._v(_vm._s(_vm.mainThread.title))]), _vm._v(\" \"), _c('div', {\n    staticClass: \"header-bar-links\"\n  }, [_c('a', {\n    staticClass: \"help-icon\"\n  }, [_vm._v(\"Help\"), _c('div', {\n    staticClass: \"help-text\",\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.mainThread.helpHtml)\n    }\n  })]), _vm._v(\" \"), (_vm.user.username) ? _c('a', {\n    staticClass: \"account-status\",\n    on: {\n      \"click\": _vm.logout\n    }\n  }, [_vm._v(_vm._s(_vm.user.username) + \" (Log out)\")]) : _c('a', {\n    staticClass: \"account-status\",\n    attrs: {\n      \"title\": \"Log in with GitHub\"\n    },\n    on: {\n      \"click\": _vm.login\n    }\n  }, [_vm._v(\"Log in\")])])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-f6a26222\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/header-bar.vue\n// module id = 139\n// module chunks = 1","/*\n * Handles the 'oauth dance' for our application.\n */\nimport axios from 'axios' // ajax library\n\nconst clientId = '1b717d04ec7f3615bb18'\n// the following url needs to match the app configuration on github.com\nconst landingPage = getLandingPage()\nconst tokenKey = 'token'\nconst oAuthUrl = `https://github.com/login/oauth/authorize?scope=public_repo&redirect_uri=${landingPage}&client_id=${clientId}`\n// our heroku instance that hides the oauth secret. running https://github.com/prose/gatekeeper\nconst codeToTokenUrl = 'https://bkkhackmap.herokuapp.com/authenticate/'\n\n// HTTP Options call to wake the heroku instance. we don't care about the\n// response. we just want the oauth login to be quick.\naxios.options(codeToTokenUrl)\n\nfunction getLandingPage () {\n  const appUrl = window.location.href.replace(window.location.hash, '')\n  return appUrl.indexOf('index.html') >= 0\n    ? appUrl.replace('index.html', 'oauth_redirect.html')\n    : appUrl + 'oauth_redirect.html'\n}\n\nexport default {\n  isLoggedIn: function () {\n    return !!window.localStorage.getItem(tokenKey)\n  },\n  logOut: function () {\n    window.localStorage.removeItem(tokenKey)\n  },\n  // implements https://developer.github.com/v3/oauth/#web-application-flow\n  getOAuthToken: function () {\n    return new Promise((resolve, reject) => {\n      // if we already have a token, just return it\n      var token = window.localStorage.getItem(tokenKey)\n      if (token) {\n        resolve(token)\n        return\n      }\n      // otherwise, open a window to do the github login\n      // github will redirect to landingPage, which will fire an\n      // event with the github auth code\n      var oauthWindow = window.open(oAuthUrl) // needs to be a new window. github can't be embedded in an iframe for security reasons\n      window.addEventListener('oauth-code-received', function (event) {\n        var code = event.detail\n        // we received the code exchange it for an auth token.\n        // this part needs to interact with a server because we need to hide the oAuth secret.\n        // the server is just a heroku app running https://github.com/prose/gatekeeper\n        axios.get(codeToTokenUrl + code)\n          .then(response => {\n            window.localStorage.setItem(tokenKey, response.data.token)\n            oauthWindow.close()\n            resolve(response.data.token)\n          })\n          .catch(error => reject(error))\n      })\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/github-oauth.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-294ed096\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./app.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./app.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-294ed096\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./app.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/app.vue\n// module id = 53\n// module chunks = 1","import axios from 'axios'\n\nfunction getApiConfig (token, apiPath) {\n  var config = {\n    baseURL: baseURL + (apiPath || ''),\n    validateStatus: status => status >= 200 && (status < 300 || status === 304)\n  }\n  if (token) {\n    config.headers = { 'Authorization': 'token ' + token }\n  }\n  return config\n}\n\nexport const baseURL = 'https://api.github.com/'\nexport default function (org, repo, token) {\n  // general github ajax client\n  let github = axios.create(getApiConfig(token))\n\n  // repo-specific ajax client\n  github.repo = axios.create(getApiConfig(token, `repos/${org}/${repo}/`))\n\n  return github\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/github-api-client.js","import serialization from './github-serialization.js'\nimport auth from './github-oauth.js'\nimport githubApiClient from './github-api-client.js'\n\n/*\n * GitHub Issues API. Handles saving and polling of\n * projects, stored as github issue comments.\n *\n * Expects a configuration of:\n * {\n *    organization: 'bkkhack',\n *    repository: 'hackmap',\n *    label: 'BKKHack Main Thread',\n *    pollIntervalSeconds: 60,\n *    onAuthenticationRequired: () => Promise(token),\n *    onProjectsUpdated: (projects) => {},\n *    onError: (error) => {}\n * }\n */\nexport default class GitHubIssueService {\n  constructor (config) {\n    this.lastUpdateSent = new Date(0)\n    this.config = config\n    this.github = githubApiClient(config.organization, config.repository)\n\n    // if the user has already logged in (e.g. in a previous session), use the\n    // authenticated client for all operations. Authenticated calls have a\n    // higher rate limit, even for calls that don't require authentication\n    if (auth.isLoggedIn()) {\n      this.ensureAuthenticatedClient().then(() => this.startPolling())\n    } else {\n      this.startPolling()\n    }\n  }\n\n  startPolling () {\n    // issue ajax requests to load data from github\n    // the model will be updated periodically from the callbacks\n    this.getIssues()\n      .then((issues) => { this.getMainThread(issues) })\n      .then(() => this.pollIssueForComments())\n      .catch((err) => {\n        this.reportError(err)\n        this.config.onError(err)\n      })\n  }\n\n  /**\n   * @returns {Promise}\n   */\n  getIssues () {\n    return this.github.repo\n      .get('issues', {\n        params: {\n          state: 'all', // supports viewing past threads that have since been closed.\n          labels: this.config.label\n        },\n        headers: serialization.commentFormat\n      })\n      .then((response) => response.data)\n      .catch((err) => {\n        this.reportError(err)\n        throw new Error('Unable to get a list of issues from github')\n      })\n  }\n\n  getMainThread (issues) {\n    if (!issues.length) {\n      throw new Error('Could not find an open issue labeled: ' + this.config.label)\n    }\n\n    let issue\n    if (this.config.issueNumber === '') {\n      issue = issues[0]\n    } else {\n      issue = issues.find(i => i.number === parseInt(this.config.issueNumber))\n      if (issue === undefined) {\n        throw new Error(`Could not find an open issue labeled: ${this.config.label} and numbered: ${this.config.issueNumber}`)\n      }\n    }\n\n    this.issueNumber = issue.number\n\n    var thread = serialization.deserializeIssueToMainThread(issue)\n    this.config.onMainThreadLoaded(thread)\n  }\n\n  postNewProject (project) {\n    return this.updateProjectAjaxCall(project, 'post', 'issues/' + this.issueNumber + '/comments')\n  }\n\n  updateProject (project) {\n    return this.updateProjectAjaxCall(project, 'patch', 'issues/comments/' + project.id)\n  }\n\n  updateProjectAjaxCall (project, httpVerb, url) {\n    return this.ensureAuthenticatedClient()\n      .then(() => {\n        this.lastUpdateSent = new Date()\n        let body = serialization.serializeProjectToComment(project)\n        return this.github.repo[httpVerb](url, { body: body }, {\n          headers: serialization.commentFormat\n        })\n      })\n      .then(response => {\n        return serialization.deserializeCommentToProject(response.data)\n      })\n  }\n\n  deleteProject (id) {\n    return this.ensureAuthenticatedClient()\n      .then(() => {\n        return this.github.repo.delete('issues/comments/' + id)\n      })\n  }\n\n  pollIssueForComments () {\n    let commentsUrl = 'issues/' + this.issueNumber + '/comments'\n    var etag\n\n    var poll = (isFirstPoll) => {\n      // first request should not be cached by the browser.\n      // this prevents users from refreshing immediately after\n      // entering their hack and not seeing their hack appear.\n      var now = new Date()\n      var requestUrl = isFirstPoll\n        ? commentsUrl + '?nocache=' + now.getTime()\n        : commentsUrl\n\n      // don't poll if the user sent an update in the last 15s.\n      // GitHub's API doesn't immediately reflect the latest information,\n      // so give it some time for updates to propagate.\n      if (now - this.lastUpdateSent < 15000) {\n        console.log('skipping poll because of a recent update from this client')\n        return Promise.resolve()\n      }\n      if (window.document.hidden) {\n        console.log('skipping poll because tab is hidden')\n        window.addEventListener('visibilitychange', poll, {once: true})\n        return Promise.resolve()\n      }\n\n      console.log('polling with etag ' + etag)\n      return this.github.repo\n        .get(requestUrl, {\n          headers: Object.assign(\n            serialization.commentFormat,\n            // use etag for caching, as described in https://developer.github.com/v3/#conditional-requests\n            etag ? { 'If-None-Match': etag } : { }\n          )\n        })\n        .then(response => {\n          console.log('poll response ' + response.status)\n          if (response.status === 200) {\n            etag = response.headers.etag\n            var projects = this.pickFirstProjectPerUser(response.data)\n            this.config.onProjectsUpdated(projects)\n          }\n        })\n        .catch(err => {\n          this.reportError(err)\n          this.config.onError(new Error('Failed retrieving ideas'))\n        })\n    }\n\n    console.log('start polling')\n    let interval = 1000 * this.config.pollIntervalSeconds\n    window.setInterval(poll, interval)\n    return poll(true)\n  }\n\n  // sometimes users reply directly on github, which would make them have two hacks: their original and their reply.\n  // to avoid this, only show the first project in the list.\n  pickFirstProjectPerUser (commentList) {\n    var projects = []\n    var projectsByUser = {}\n    // we could just use a single object here, but an object doesn't guarantee preserved order of its properties\n    commentList.forEach(comment => {\n      var project = serialization.deserializeCommentToProject(comment)\n      if (!projectsByUser[project.username]) {\n        projectsByUser[project.username] = project\n        projects.push(project)\n      }\n    })\n    return projects\n  }\n\n  /**\n   * Call the onAuthenticationRequired callback to get an auth token\n   * and create an authenticated github api client from that token\n   * @param reauthenticateOnError - defaults to true, if authentication fails (e.g. to a expired token) should we attempt to reauthenticate?\n   */\n  ensureAuthenticatedClient (reauthenticateOnError = true) {\n    return this.config.onAuthenticationRequired()\n      .then(token => {\n        // if we're not currently authenticated, use the\n        // token to create an authenticated client.\n        if (!this.github.isAuthenticated) {\n          this.github = githubApiClient(this.config.organization, this.config.repository, token)\n          this.github.isAuthenticated = true\n          return this.github.get('user')\n        }\n      }).then(response => {\n        if (response) {\n          this.config.onUserAuthenticated(response)\n        }\n      }).catch(err => {\n        console.log(err)\n        auth.logOut()\n        if (reauthenticateOnError) {\n          this.github.isAuthenticated = false\n          return this.ensureAuthenticatedClient(false)\n        }\n      })\n  }\n\n  deauthenticateClient () {\n    auth.logOut()\n    this.github = githubApiClient(this.config.organization, this.config.repository)\n  }\n\n  reportError (err) {\n    console.error(err)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/github-issues.js","/* Handles converting the app's concept of a 'project'\n * to/from the GitHub API's concept of an 'issue'\n */\n\nconst commentExtractionRegex = /<!-- ([.\\d]+),([.\\d]+) -->/\nconst mainThreadAttributesRegex = /<!--\\s*floorplan\\s*:\\s*([^,\\s]+),?\\s*-->/\n\nfunction parseCoordinatesFromComment (commentLines) {\n  var lastLine = commentLines.slice(-1)[0]\n  var matches = commentExtractionRegex.exec(lastLine)\n\n  return matches ? { x: matches[1], y: matches[2] }\n    : { x: 0, y: 0 }\n}\n\nexport default {\n\n  commentFormat: { 'Accept': 'application/vnd.github.VERSION.full+json' },\n\n  deserializeCommentToProject: function (comment) {\n    var textLines = comment.body.split('\\r\\n')\n    var coords = parseCoordinatesFromComment(textLines)\n    // title is the first line, description is everything after the first line\n    var title = textLines[0]\n    var descriptionText = textLines.length > 1 ? textLines[1].trim() : ''\n    var descriptionHtml = comment.body_html.substring(comment.body_html.indexOf('\\n')).trim()\n    return {\n      id: comment.id,\n      title: title,\n      descriptionText: descriptionText,\n      descriptionHtml: descriptionHtml,\n      username: comment.user.login,\n      userId: comment.user.id,\n      // see https://developer.github.com/v4/reference/enum/commentauthorassociation/\n      userIsAdmin: comment.author_association === 'MEMBER' || comment.author_association === 'OWNER',\n      avatar_thumbnail: comment.user.avatar_url + '&s=' + 40,\n      avatar: comment.user.avatar_url + '&s=' + 80,\n      x: coords.x,\n      y: coords.y,\n      editMode: false\n    }\n  },\n\n  serializeProjectToComment: function (project) {\n    let body = project.title + '\\r\\n' +\n      (project.descriptionText || '') + '\\r\\n' +\n      `<!-- ${project.x},${project.y} -->`\n    return body\n  },\n\n  deserializeIssueToMainThread: function (issue) {\n    let [, floorplanUrl] = mainThreadAttributesRegex.exec(issue.body)\n\n    return {\n      title: issue.title,\n      helpHtml: issue.body_html,\n      number: issue.number,\n      floorplanUrl: floorplanUrl\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/github-serialization.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport Router from 'vue-router'\nimport App from './components/app'\n\nVue.config.productionTip = false\nVue.use(Router)\n\n// html5 drag-and-drop support for mobile\nimport {polyfill} from 'mobile-drag-drop'\npolyfill()\n\nconst router = new Router({\n  base: window.location.pathname,\n  routes: [\n    {\n      path: '/events/:issueNumber',\n      name: 'history',\n      component: App,\n      props: true\n    },\n    {\n      path: '*',\n      name: 'latest',\n      component: App\n    }\n  ]\n})\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  template: '<router-view />'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","<template>\n  <div id=\"appContainer\">\n    <header-bar class=\"header-bar\"\n      @login=\"login\" @logout=\"logout\"\n      :user=\"user\" :mainThread=\"mainThread\" />\n    <side-bar class=\"side-bar\"\n      @toggleForm=\"toggleForm\" @updateSelectedProject=\"updateSelectedProject\"\n      @toggleEditMode=\"toggleEditMode\" @updateProject=\"updateProject\" @deleteProject=\"deleteProject\"\n      @drag=\"leftDrag\"\n      :projects=\"projects\" :selectedProjectId=\"selectedProjectId\"\n      :user=\"user\" :state=\"state\" :form=\"form\" />\n    <hack-map class=\"hack-map\"\n      @updateSelectedProject=\"updateSelectedProject\"\n      @drop=\"centerDrop\" @closeModals=\"closeModals\"\n      :projects=\"projects\" :selectedProjectId=\"selectedProjectId\"\n      :user=\"user\" :floorplan=\"floorplan\" />\n  </div>\n</template>\n\n<script>\nimport GitHubIssueService from '../github-issues.js'\nimport Auth from '../github-oauth.js'\nimport HeaderBar from './header-bar.vue'\nimport SideBar from './side-bar.vue'\nimport HackMap from './hack-map.vue'\n\nlet githubIssue\nexport default {\n  name: 'app',\n  props: {\n    issueNumber: {\n      default: '',\n      type: String\n    }\n  },\n  data () {\n    return {\n      state: 'init',\n      mainThread: {\n        title: '',\n        helpText: ''\n      },\n      floorplan: {\n        url: '',\n        width: 0,\n        height: 0\n      },\n      selectedProjectId: '',\n      projects: [],\n      form: {\n        isOpen: false,\n        title: '',\n        descriptionText: ''\n      },\n      authenticationUrl: '',\n      user: {\n        id: '',\n        username: '',\n        hasProject: false,\n        isAdmin: false\n      }\n    }\n  },\n  methods: {\n    toggleForm () {\n      if (!this.form.isOpen) {\n        this.form.isOpen = true\n        return\n      }\n      this.form.title = this.form.title.trim()\n      this.form.descriptionText = this.form.descriptionText.trim()\n\n      if (!this.form.title && !this.form.descriptionText) {\n        // empty form, close it.\n        this.form.isOpen = false\n        return\n      } else if (!this.form.title) {\n        // user filled in a description, but not a title\n        alert('Please enter a topic for your project')\n        return\n      } else {\n        // title and optional description provided, save the text\n        githubIssue.postNewProject(this.form)\n          .then(project => {\n            // add the new project and blank the form.\n            this.projects.push(project)\n            this.form.title = ''\n            this.form.descriptionText = ''\n          })\n          .catch(err => console.error(err))\n        this.form.isOpen = false\n      }\n    },\n    leftDrag (event) {\n      var avatar = event.target.querySelector('.project-author-avatar')\n\n      var dragIcon = document.createElement('img')\n      dragIcon.src = avatar.dataset.dragicon\n      event.dataTransfer.setDragImage(dragIcon, 20, 20)\n\n      // event.dataTransfer.setDragImage(avatar, 20, 20)\n      var projectId = event.target.dataset.id\n      event.dataTransfer.setData('projectId', projectId)\n    },\n    updateSelectedProject (projectId) {\n      this.selectedProjectId = projectId\n    },\n    closeModals () {\n      this.selectedProjectId = null\n      this.form.isOpen = false\n    },\n    centerDrop (event) {\n      var projectId = event.dataTransfer.getData('projectId')\n      var project = this.projects.filter(p => p.id === parseInt(projectId))[0]\n      this.updateMapDimensions()\n      // record old x and y values in case the API rejects our update, so we can revert to them\n      var oldX = project.x\n      var oldY = project.y\n      // calculate offset from the map (currentTarget). We can't use the event's offsetX/Y\n      // because those properties are relative to the event's target, and it's not guaranteed\n      // that the event's target is the map -- it could be another avatar.\n      var mapBoundingBox = event.currentTarget.getBoundingClientRect()\n      var mapPosition = {\n        x: mapBoundingBox.left + document.documentElement.scrollLeft,\n        y: mapBoundingBox.top + document.documentElement.scrollTop\n      }\n      var offsetX = event.pageX - mapPosition.x\n      var offsetY = event.pageY - mapPosition.y\n      // the map is a percentage width of the overall window, so we need\n      // to save x and y as percentage values.\n      project.x = offsetX / this.floorplan.width\n      project.y = offsetY / this.floorplan.height\n      githubIssue.updateProject(project)\n        .catch(err => {\n          console.log('update rejected', err)\n          project.x = oldX\n          project.y = oldY\n        })\n    },\n    updateMapDimensions () {\n      var floorplanElement = this.$el.querySelector('.floorplan')\n      this.floorplan.width = floorplanElement.clientWidth\n      this.floorplan.height = floorplanElement.clientHeight\n    },\n    login () {\n      githubIssue.ensureAuthenticatedClient().then(data => console.log(data))\n    },\n    logout () {\n      this.user.username = ''\n      githubIssue.deauthenticateClient()\n    },\n    toggleEditMode (projectId) {\n      var projectIndex = this.projects.findIndex(project => project.id === projectId)\n      var project = this.projects[projectIndex]\n      if (!project.editMode) { // entering edit mode\n        project.backup = {\n          title: project.title,\n          descriptionText: project.descriptionText\n        }\n      } else { // cancelling edit mode\n        project.title = project.backup.title\n        project.descriptionText = project.backup.descriptionText\n      }\n      project.editMode = !project.editMode\n    },\n    updateProject (project) {\n      githubIssue.updateProject(project)\n        .then(updatedProject => {\n          let index = this.projects.findIndex(p => p.id === updatedProject.id)\n          this.$set(this.projects, index, updatedProject)\n        })\n        .catch(err => {\n          console.log('update rejected', err)\n          var backup = project.backup\n          project.title = backup.title\n          project.descriptionText = backup.descriptionText\n        })\n    },\n    deleteProject (id) {\n      githubIssue.deleteProject(id)\n        .then(() => {\n          this.user.hasProject = false\n          this.selectedProjectId = null\n          const indexResult = this.projects.findIndex(project => project.id === id)\n          this.projects.splice(indexResult, 1)\n        })\n    },\n    notifyError (msg) {\n      if (msg.hasOwnProperty('message')) {\n        alert(msg.message)\n      } else {\n        alert('Oh no, something went wrong')\n      }\n    }\n  },\n  components: {\n    HeaderBar,\n    SideBar,\n    HackMap\n  },\n  mounted () {\n    githubIssue = new GitHubIssueService({\n      organization: 'bkkhack',\n      repository: 'hackmap',\n      label: 'BKKHack Main Thread',\n      onAuthenticationRequired: Auth.getOAuthToken,\n      pollIntervalSeconds: 60,\n      onProjectsUpdated: projects => {\n        this.$set(this.$data, 'state', 'running')\n        var projectForLoggedInUser = projects\n            .filter(project => project.userId === this.user.id)\n\n        if (projectForLoggedInUser.length) {\n          this.user.hasProject = true\n          this.user.isAdmin = projectForLoggedInUser[0].userIsAdmin\n        }\n        // don't reset projects if the user is editing one of them\n        if (!this.projects.some(project => project.editMode)) {\n          this.projects = projects\n        }\n      },\n      onMainThreadLoaded: thread => {\n        this.mainThread.helpHtml = thread.helpHtml\n        this.mainThread.title = thread.title\n        this.floorplan.url = thread.floorplanUrl\n      },\n      onUserAuthenticated: response => {\n        this.user.username = response.data.login\n        this.user.id = response.data.id\n      },\n      issueNumber: this.issueNumber,\n      onError: errMsg => {\n        this.notifyError(errMsg)\n      }\n    })\n    // we need to calculate map dimensions in order to place the avatars\n    // we handle three cases:\n    // if the map loads after this code runs.\n    this.$el.querySelector('.floorplan')\n      .addEventListener('load', this.updateMapDimensions)\n    // if this code runs after the image loads\n    this.updateMapDimensions()\n    // and on resize\n    window.addEventListener('resize', this.updateMapDimensions)\n  },\n  beforeDestroy () {\n    window.removeEventListener('resize', this.updateMapDimensions)\n  }\n}\n</script>\n\n<style>\n  html, body, #app, #appContainer {\n    margin: 0;\n    padding: 0;\n    height: 100%;\n    color: #fff;\n    font-family: Raleway, sans-serif;\n  }\n  html {\n    /* css blueprint pattern */\n    background-color:#269;\n    background-color:#3481bb;\n    background-image: linear-gradient(rgba(255, 255, 255, .1) 2px, transparent 2px),\n    linear-gradient(90deg, rgba(255, 255, 255, .2) 1px, transparent 2px),\n    linear-gradient(rgba(255,255,255,.1) 1px, transparent 1px),\n    linear-gradient(90deg, rgba(255,255,255,.2) 1px, transparent 1px);\n    background-size:100px 100px, 100px 100px, 20px 20px, 20px 20px;\n    background-position:-2px -2px, -2px -2px, -1px -1px, -1px -1px;\n  }\n  #appContainer {\n    display:grid;\n    grid-template-rows: 60px auto;\n    grid-template-columns: 300px auto;\n    grid-template-areas: \"side-bar  header-bar\"\n                         \"side-bar    hack-map\";\n  }\n  .header-bar {\n    grid-area: header-bar;\n  }\n  .side-bar {\n    grid-area: side-bar;\n  }\n  .add-button {\n    height:60px;\n  }\n  .hack-map {\n    grid-area: hack-map;\n  }\n  a {\n    font-weight:bold;\n    cursor:pointer;\n    color:#fff;\n  }\n  input[type='text'], textarea {\n    box-sizing:border-box;\n    font-family:sans-serif;\n    font-size:1em;\n    width:100%;\n    padding: 0.3em;\n    outline:none;\n    transition:background-color linear 0.2s;\n    background-color:rgba(255,255,255,.9);\n    border:1px solid #397ce2;\n  }\n  input:focus,\n  textarea:focus {\n    background-color:rgba(255,255,255,1);\n  }\n  img[draggable='true'],\n  div[draggable='true'] {\n    cursor:pointer;\n  }\n  [v-cloak] {\n    /* If marked with v-cloak (vue cloak), this overrides everything.\n     * Vue will remove this attribute when it's initialized. */\n    visibility: hidden !important;\n  }\n\n  /* github avatar resizes -- github stopped respecting the &s parameter\n   * for default generated avatar images, so we manually do it here */\n  img[src$=\"s=40\"] { width: 40px; height: 40px; }\n  img[src$=\"s=120\"] { width: 120px; height: 120px; }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// app.vue?0c218b12","<template>\n  <div class=\"center-column\" @click=\"closeModals\">\n    <div class=\"droptarget\"\n        @dragenter=\"dragevent\"\n        @dragover=\"dragevent\"\n        @drop=\"drop\">\n      <img class=\"floorplan\"\n        v-bind:src=\"floorplan.url\" />\n      <img class=\"marker\" width=\"36\"\n        v-for=\"project in projects\"\n        v-if=\"project.x > 0 && project.y > 0 && floorplan.width > 0 && floorplan.height > 0\"\n        v-bind:key=\"project.id\"\n        v-bind:draggable=\"project.username === user.username || user.isAdmin\"\n        @dragstart=\"drag\"\n        @click.stop=\"updateSelectedProject(project.id)\"\n        v-bind:class=\"{ selected: selectedProjectId === project.id }\"\n        v-bind:data-id=\"project.id\"\n        v-bind:style=\"{ left: floorplan.width * project.x - 20 + 'px', top: floorplan.height * project.y - 20 + 'px' }\"\n        v-bind:src=\"project.avatar_thumbnail\"\n        v-bind:alt=\"project.username\"\n        v-bind:title=\"project.title\" />\n    </div>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: 'hack-map',\n    props: ['mainThread', 'user', 'projects', 'selectedProjectId', 'floorplan'],\n    methods: {\n      dragevent (event) {\n        event.preventDefault() // mark this element as a drop target.\n        event.dataTransfer.dropEffect = 'copy'\n      },\n      drag (event) {\n        var projectId = event.target.dataset.id\n        event.dataTransfer.setData('projectId', projectId)\n      },\n      drop (event) {\n        this.$emit('drop', event)\n      },\n      updateSelectedProject (projectId) {\n        this.$emit('updateSelectedProject', projectId)\n      },\n      closeModals () {\n        this.$emit('closeModals')\n      }\n    }\n}\n</script>\n\n<style>\n  .center-column {\n    padding:40px;\n    max-height:100%; /* seems required for firefox to appropriately scale tall hackmap images */\n  }\n  .droptarget {\n    width:90%;\n    max-width:600px;\n    position:relative;\n    margin:0 auto 0 auto;\n  }\n  .floorplan {\n    /* floorplan image is assumed to be black vector image */\n    filter:invert(100%) opacity(40%);\n    z-index:0;\n    width:100%;\n    user-select:none;\n  }\n  .marker {\n    position:absolute;\n    z-index:1;\n    transition: box-shadow 100ms ease-in-out;\n    box-shadow: 0 0 0 0 #3a7be2;\n    user-select:none;\n  }\n  .marker.selected {\n    animation: pulse 0.8s 3;\n    box-shadow: 0 0 5px 3px #3a7be2;\n  }\n  @keyframes pulse {\n    from {\n      transform: scale3d(1, 1, 1);\n    }\n\n    50% {\n      transform: scale3d(1.2, 1.2, 1.2);\n    }\n\n    to {\n      transform: scale3d(1, 1, 1);\n    }\n  }\n  @keyframes bounce {\n    0%, 20%, 50%, 80%, 100% {\n      transform: translateY(0);\n    }\n    40% {\n      transform: translateY(-30px);\n    }\n    60% {\n      transform: translateY(-15px);\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// hack-map.vue?807dff88","<template>\n  <div class=\"header-bar\">\n    <h1>{{mainThread.title}}</h1>\n    <div class=\"header-bar-links\">\n      <a class=\"help-icon\">Help<div class=\"help-text\" v-html=\"mainThread.helpHtml\"></div></a>\n      <a class=\"account-status\" v-if=\"user.username\" @click=\"logout\" v-cloak>{{user.username}} (Log out)</a>\n      <a class=\"account-status\" v-else title=\"Log in with GitHub\" @click=\"login\" v-cloak>Log in</a>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  name: 'header-bar',\n  props: ['mainThread', 'user'],\n  methods: {\n    login () {\n      this.$emit('login')\n    },\n    logout () {\n      this.$emit('logout')\n    }\n  }\n}\n</script>\n\n<style>\nh1 {\n  display:block;\n  font-weight:normal;\n  font-size:24pt;\n  margin: 0 auto;\n  user-select: none;\n  text-align:center;\n  flex:1;\n}\n.header-bar {\n  position:relative;\n  background-color:#fff;\n  color:#2B5285;\n  display:flex;\n  align-items: center;\n}\n.header-bar-links {\n  position:absolute;\n  right:0;\n}\n.header-bar-links > a {\n  /* cover the h1 if we've ran out of room */\n  background-color:#fff;\n  color:#2B5285;\n}\n.account-status {\n  background-repeat:no-repeat;\n  background-size:20px;\n  background-image:url(\"https://assets-cdn.github.com/favicon.ico\");\n  background-position:left;\n  padding:5px 15px 5px 25px;\n}\n.help-icon {\n  padding:20px;\n}\n.help-icon .help-text {\n  position:absolute;\n  right:15px;\n  background-color: rgba(34, 34, 34, 0.9);\n  box-shadow:0 0 4px #444;\n  color:#fff;\n  width:300px;\n  font-weight:normal;\n  z-index:2;\n  padding:10px;\n  transform: translate(-0%, -50%) scale(0);\n  will-change:transform;\n  transition: transform 150ms ease-in-out;\n  transition-delay: 500ms;\n}\n.help-icon:hover .help-text {\n  transform: translate(0, 0) scale(1);\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// header-bar.vue?48bdf962","<template>\n  <div class=\"projects side-bar\">\n    <div class=\"project-form\" v-bind:class=\"{ open: form.isOpen }\">\n      <input v-model=\"form.title\" type=\"text\" placeholder=\"Topic\" maxlength=\"40\" autofocus>\n      <textarea v-model=\"form.descriptionText\" placeholder=\"Details (optional, uses markdown)\"></textarea>\n      <button class=\"add-button\" @click=\"toggleForm\">+ Add your hack</button>\n    </div>\n    <button v-if=\"user.hasProject\" class=\"add-button\" title=\"You've added a hack!\" disabled>Hack Added!</button>\n    <button v-else class=\"add-button\" @click=\"toggleForm\">+ Add your hack</button>\n    <div v-for=\"project in projects\"\n      @dragstart=\"drag\"\n      @click=\"updateSelectedProject(project.id)\"\n      v-bind:key=\"project.id\"\n      v-bind:data-id=\"project.id\"\n      v-bind:class=\"{ selected: selectedProjectId === project.id || project.editMode }\"\n      v-bind:draggable=\"!(selectedProjectId === project.id && project.editMode) && (project.username === user.username || user.isAdmin)\"\n      v-cloak\n      class=\"project\">\n      <div class=\"project-title-bar\">\n        <a class=\"project-author\" v-bind:href=\"'https://github.com/' + project.username\" draggable=\"false\">@{{project.username}}</a>\n        <div class=\"project-title\" v-if=\"!project.editMode\">{{project.title}}</div>\n        <input class=\"project-title-editor\" v-else v-model=\"project.title\" type=\"text\" maxlength=\"40\" autofocus>\n      </div>\n      <img\n        v-bind:src=\"selectedProjectId == project.id ? project.avatar : project.avatar_thumbnail\"\n        v-bind:title=\"project.username\" v-bind:alt=\"project.username\"\n        v-bind:data-dragicon=\"project.avatar_thumbnail\"\n        class=\"project-author-avatar\" draggable=\"false\" />\n      <div v-if=\"!project.editMode\" class=\"project-description\" v-html=\"project.descriptionHtml\"></div>\n      <textarea v-else class=\"project-description-editor\" v-model=\"project.descriptionText\"></textarea>\n      <div class=\"action-button-bar\" v-if=\"(selectedProjectId == project.id || project.editMode) && (project.username === user.username || user.isAdmin)\">\n        <a v-if=\"!project.editMode\" class=\"edit action-button\" @click=\"toggleEditMode(project.id)\">Edit</a>\n        <a v-if=\"!project.editMode\" class=\"delete action-button\" @click=\"deleteComment(project.id)\">Delete</a>\n        <a v-if=\"project.editMode\" class=\"cancel action-button\" @click=\"toggleEditMode(project.id)\">Cancel</a>\n        <a v-if=\"project.editMode\" class=\"save action-button\" @click=\"updateProject(project)\">Save</a>\n      </div>\n    </div>\n    <div class=\"details\" v-if=\"state === 'running' && projects.length === 0\">\n      <p>No hacks yet, you can be the first!</p>\n    </div>\n    <div class=\"loader\" v-if=\"state === 'init'\">\n      <div class=\"loader1\"></div>\n      <div class=\"loader2\"></div>\n      <div class=\"loader3\"></div>\n    </div>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: 'sidebar',\n    props: ['form', 'projects', 'selectedProjectId', 'user', 'state'],\n    methods: {\n      toggleForm () {\n        this.$emit('toggleForm')\n      },\n      drag (event) {\n        this.$emit('drag', event)\n      },\n      updateSelectedProject (projectId) {\n        this.$emit('updateSelectedProject', projectId)\n      },\n      toggleEditMode (projectId) {\n        this.$emit('toggleEditMode', projectId)\n      },\n      updateProject (project) {\n        this.$emit('updateProject', project)\n      },\n      deleteComment (id) {\n        this.$emit('deleteProject', id)\n      }\n    }\n  }\n</script>\n\n<style>\n  .side-bar {\n    background-color: rgba(34, 34, 34, 0.8);\n  }\n  .add-button {\n    font-family: inherit; /* override system font */\n    grid-area: add-button;\n    width:100%;\n    color: #fff;\n    font-size:18pt;\n    background-color:#3a7ce2;\n    outline:none;\n    border:none;\n    cursor:pointer;\n  }\n  .glow-button:hover {\n    animation: none;\n    border-color: #3a7ce2;\n    color: #3a7ce2;\n  }\n  .glow-button:active {\n    color: #6af;\n  }\n  .glow-button.disabled {\n    border: 2px dashed #6384b7;\n    color: #6384b7;\n    cursor: default;\n  }\n  @keyframes glow-button {\n    from { color: #326fce; border-color: #326fce }\n    to { color: #3a7ce2; border-color: #3a7ce2 }\n  }\n  .project-form {\n    position: absolute;\n    padding: 10px;\n    width:340px;\n    background-color: #3a7ce2;\n    transform: translate(-20%, -40%) scale(0);\n    will-change:transform;\n    transition: transform 150ms ease-in-out;\n    box-shadow: 0 0 5px #444;\n  }\n  .project-form.open {\n    transform: scale(1) translate(0);\n    transform: translate(0, 0) scale(1);\n    z-index: 2;\n  }\n  textarea {\n    margin-top:10px;\n    height:200px;\n  }\n  .project {\n    -webkit-user-select: none;\n    user-select: none;\n    box-sizing:border-box;\n    background-color:rgba(255, 255, 255, 0.1);\n    margin-top:1px;\n    padding:0 0 0 8px;\n    max-height:42px;\n    transition: max-height 0.4s linear;\n    will-change: max-height;\n    position:relative;\n    overflow:auto;\n  }\n  .project .project-author {\n    font-size:10pt;\n    font-weight:lighter;\n    color:#ddd;\n    margin-top:8px;\n    display:none;\n    opacity:0;\n    transition: opacity 0.4s linear;\n  }\n  .project .project-title-editor {\n    display:block;\n  }\n  .project .project-title-editor,\n  .project .project-title {\n    margin-top:12px;\n  }\n  .project .project-title {\n    width: 220px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n  .project .project-author-avatar {\n    float:right;\n    width:40px;\n    height:40px;\n    padding:0;\n  }\n  .project .project-description-editor,\n  .project .project-description {\n    font-size:11pt;\n  }\n  .project .project-description {\n    display:none;\n    padding-top:4px;\n    clear:both;\n    opacity:0;\n    transition: opacity 0.4s linear;\n  }\n  .project .project-description ul {\n    padding-left:16px;\n  }\n  .project .action-button-bar {\n    width:100%;\n    background-color: rgba(0, 0, 0, 0.2);\n  }\n  .edit.action-button,\n  .save.action-button {\n    color: #a2d6ff;\n    float:right;\n  }\n  .delete.action-button {\n    color:#f77;\n  }\n  .project .action-button {\n    display:inline-block;\n    padding:4px 10px;\n  }\n  .project .action-button-bar a {\n    font-weight:lighter;\n    font-size:smaller;\n  }\n  .project .project-title-bar {\n    float:left;\n  }\n  .project.selected {\n    padding:8px;\n    max-height:400px;\n    background-color:rgba(255, 255, 255, 0.2);\n  }\n  .project.selected .project-author {\n    display:inline-block;\n  }\n  .project.selected .project-description {\n    display:block;\n  }\n  .project.selected .project-description,\n  .project.selected .project-author {\n    opacity:1;\n  }\n  .project.selected .project-title {\n    width:170px;\n    /* undo the ellipsis configuration, so we don't truncate the title */\n    white-space: normal;\n    overflow: auto;\n    text-overflow: unset;\n  }\n  .project.selected .project-author-avatar {\n    width:76px;\n    height:76px;\n    padding:2px;\n  }\n  .details {\n    text-align:center;\n  }\n  /* css loader in left column */\n  .loader {\n    margin: 50px auto 0;\n    width: 70px;\n    text-align: center;\n  }\n  .loader > div {\n    width: 18px;\n    height: 18px;\n    background-color: rgba(255,255,255,.8);\n\n    border-radius: 100%;\n    display: inline-block;\n    -webkit-animation: zoom 1.4s infinite ease-in-out both;\n    animation: zoom 1.4s infinite ease-in-out both;\n  }\n  .loader .loader1 {\n    -webkit-animation-delay: -0.32s;\n    animation-delay: -0.32s;\n  }\n  .loader .loader2 {\n    -webkit-animation-delay: -0.16s;\n    animation-delay: -0.16s;\n  }\n  @keyframes zoom {\n    0%, 80%, 100% {\n      -webkit-transform: scale(0);\n      transform: scale(0);\n    } 40% {\n      -webkit-transform: scale(1.0);\n      transform: scale(1.0);\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// side-bar.vue?1c23880f"],"sourceRoot":""}